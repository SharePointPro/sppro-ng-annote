const TEXT_AREA_ID = "konva-text-editor";
export default {
    createTextArea: (x, y, color, fontFamily, onBlur) => {
        let textarea = getTextArea();
        styleTextarea(textarea, x, y, color, fontFamily);
        setupEvents(textarea, onBlur);
        //Auto focus after creation
        setTimeout(() => {
            textarea.focus();
        }, (100));
    }
};
const getTextArea = () => {
    var textarea = document.getElementById(TEXT_AREA_ID);
    if (!textarea) {
        textarea = document.createElement('textarea');
        let canvas = document.getElementsByClassName("konvajs-content")[0];
        canvas.appendChild(textarea);
        textarea.style.position = 'absolute';
        textarea.id = TEXT_AREA_ID;
    }
    return textarea;
};
const ɵ0 = getTextArea;
const styleTextarea = (textarea, x, y, color, fontFamily) => {
    textarea.style.top = y + 'px';
    textarea.style.left = x + 'px';
    textarea.style.width = "20px";
    textarea.style.height = "20px";
    textarea.style.fontSize = '12px';
    textarea.style.border = 'none';
    textarea.style.padding = '0px';
    textarea.style.margin = '0px';
    textarea.style.overflow = 'hidden';
    textarea.style.whiteSpace = 'nowrap';
    textarea.style.background = 'none';
    textarea.style.outline = 'none';
    textarea.style.resize = 'none';
    textarea.style.lineHeight = "12px";
    textarea.style.transformOrigin = 'left top';
    textarea.style.color = color;
    textarea.style.fontFamily = fontFamily;
};
const ɵ1 = styleTextarea;
const setupEvents = (textarea, onBlur) => {
    textarea.addEventListener('input', (e) => {
        autoExpand(e.target);
    });
    textarea.addEventListener('blur', (e) => {
        removeTextarea();
        onBlur(e);
    });
};
const ɵ2 = setupEvents;
const removeTextarea = () => {
    var elem = document.getElementById(TEXT_AREA_ID);
    if (elem != null) {
        elem.parentNode.removeChild(elem);
    }
};
const ɵ3 = removeTextarea;
const autoExpand = (field) => {
    // Calculate the height
    var height = field.scrollHeight;
    var width = field.scrollWidth;
    field.style.width = width + 'px';
    field.style.height = height + 'px';
};
const ɵ4 = autoExpand;
export { ɵ0, ɵ1, ɵ2, ɵ3, ɵ4 };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGV4dGFyZWFGYWN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvc3Bwcm8tbmctYW5ub3RlL3NyYy9saWIvZmFjdG9yaWVzL3RleHRhcmVhRmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxNQUFNLFlBQVksR0FBRyxtQkFBbUIsQ0FBQztBQUV6QyxlQUFlO0lBQ1gsY0FBYyxFQUFFLENBQUMsQ0FBUyxFQUFFLENBQVMsRUFBRSxLQUFhLEVBQUUsVUFBa0IsRUFBRSxNQUFnQixFQUFFLEVBQUU7UUFDMUYsSUFBSSxRQUFRLEdBQUcsV0FBVyxFQUFFLENBQUM7UUFDN0IsYUFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEtBQUssRUFBRSxVQUFVLENBQUMsQ0FBQztRQUNqRCxXQUFXLENBQUMsUUFBUSxFQUFFLE1BQU0sQ0FBQyxDQUFDO1FBRTlCLDJCQUEyQjtRQUMzQixVQUFVLENBQUMsR0FBRyxFQUFFO1lBQ1osUUFBUSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3JCLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDZCxDQUFDO0NBQ0osQ0FBQTtBQUVELE1BQU0sV0FBVyxHQUFHLEdBQUcsRUFBRTtJQUNyQixJQUFJLFFBQVEsR0FBRyxRQUFRLENBQUMsY0FBYyxDQUFDLFlBQVksQ0FBQyxDQUFDO0lBQ3JELElBQUksQ0FBQyxRQUFRLEVBQUU7UUFDWCxRQUFRLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUM5QyxJQUFJLE1BQU0sR0FBRyxRQUFRLENBQUMsc0JBQXNCLENBQUMsaUJBQWlCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuRSxNQUFNLENBQUMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBRTdCLFFBQVEsQ0FBQyxLQUFLLENBQUMsUUFBUSxHQUFHLFVBQVUsQ0FBQztRQUNyQyxR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O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgY3JlYXRlVGV4dEFyZWE6ICh4OiBudW1iZXIsIHk6IG51bWJlciwgY29sb3I6IHN0cmluZywgZm9udEZhbWlseTogc3RyaW5nLCBvbkJsdXI6IEZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgbGV0IHRleHRhcmVhID0gZ2V0VGV4dEFyZWEoKTtcclxuICAgICAgICBzdHlsZVRleHRhcmVhKHRleHRhcmVhLCB4LCB5LCBjb2xvciwgZm9udEZhbWlseSk7XHJcbiAgICAgICAgc2V0dXBFdmVudHModGV4dGFyZWEsIG9uQmx1cik7XHJcblxyXG4gICAgICAgIC8vQXV0byBmb2N1cyBhZnRlciBjcmVhdGlvblxyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB0ZXh0YXJlYS5mb2N1cygpO1xyXG4gICAgICAgIH0sICgxMDApKTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZ2V0VGV4dEFyZWEgPSAoKSA9PiB7XHJcbiAgICB2YXIgdGV4dGFyZWEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChURVhUX0FSRUFfSUQpO1xyXG4gICAgaWYgKCF0ZXh0YXJlYSkge1xyXG4gICAgICAgIHRleHRhcmVhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcclxuICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImtvbnZhanMtY29udGVudFwiKVswXTtcclxuICAgICAgICBjYW52YXMuYXBwZW5kQ2hpbGQodGV4dGFyZWEpO1xyXG5cclxuICAgICAgICB0ZXh0YXJlYS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgdGV4dGFyZWEuaWQgPSBURVhUX0FSRUFfSUQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGV4dGFyZWE7XHJcbn1cclxuXHJcbmNvbnN0IHN0eWxlVGV4dGFyZWEgPSAodGV4dGFyZWEsIHgsIHksIGNvbG9yLCBmb250RmFtaWx5KSA9PiB7XHJcbiAgICB0ZXh0YXJlYS5zdHlsZS50b3AgPSB5ICsgJ3B4JztcclxuICAgIHRleHRhcmVhLnN0eWxlLmxlZnQgPSB4ICsgJ3B4JztcclxuICAgIHRleHRhcmVhLnN0eWxlLndpZHRoID0gXCIyMHB4XCI7XHJcbiAgICB0ZXh0YXJlYS5zdHlsZS5oZWlnaHQgPSBcIjIwcHhcIlxyXG4gICAgdGV4dGFyZWEuc3R5bGUuZm9udFNpemUgPSAnMTJweCc7XHJcbiAgICB0ZXh0YXJlYS5zdHlsZS5ib3JkZXIgPSAnbm9uZSc7XHJcbiAgICB0ZXh0YXJlYS5zdHlsZS5wYWRkaW5nID0gJzBweCc7XHJcbiAgICB0ZXh0YXJlYS5zdHlsZS5tYXJnaW4gPSAnMHB4JztcclxuICAgIHRleHRhcmVhLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XHJcbiAgICB0ZXh0YXJlYS5zdHlsZS53aGl0ZVNwYWNlID0gJ25vd3JhcCc7XHJcbiAgICB0ZXh0YXJlYS5zdHlsZS5iYWNrZ3JvdW5kID0gJ25vbmUnO1xyXG4gICAgdGV4dGFyZWEuc3R5bGUub3V0bGluZSA9ICdub25lJztcclxuICAgIHRleHRhcmVhLnN0eWxlLnJlc2l6ZSA9ICdub25lJztcclxuICAgIHRleHRhcmVhLnN0eWxlLmxpbmVIZWlnaHQgPSBcIjEycHhcIlxyXG4gICAgdGV4dGFyZWEuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ2xlZnQgdG9wJztcclxuICAgIHRleHRhcmVhLnN0eWxlLmNvbG9yID0gY29sb3I7XHJcbiAgICB0ZXh0YXJlYS5zdHlsZS5mb250RmFtaWx5ID0gZm9udEZhbWlseTtcclxufVxyXG5cclxuY29uc3Qgc2V0dXBFdmVudHMgPSAodGV4dGFyZWEsIG9uQmx1cikgPT4ge1xyXG4gXHJcbiAgICB0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XHJcbiAgICAgICAgYXV0b0V4cGFuZChlLnRhcmdldCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0ZXh0YXJlYS5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGUpID0+IHtcclxuICAgICAgICByZW1vdmVUZXh0YXJlYSgpO1xyXG4gICAgICAgIG9uQmx1cihlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCByZW1vdmVUZXh0YXJlYSA9ICgpID0+IHtcclxuICAgIHZhciBlbGVtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoVEVYVF9BUkVBX0lEKTtcclxuICAgIGlmIChlbGVtICE9IG51bGwpIHtcclxuICAgICAgICBlbGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGF1dG9FeHBhbmQgPSAoZmllbGQpID0+IHtcclxuICAgIC8vIENhbGN1bGF0ZSB0aGUgaGVpZ2h0XHJcbiAgICB2YXIgaGVpZ2h0ID0gZmllbGQuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgdmFyIHdpZHRoID0gZmllbGQuc2Nyb2xsV2lkdGg7XHJcbiAgICBmaWVsZC5zdHlsZS53aWR0aCA9IHdpZHRoICsgJ3B4JztcclxuICAgIGZpZWxkLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XHJcbn0iXX0=