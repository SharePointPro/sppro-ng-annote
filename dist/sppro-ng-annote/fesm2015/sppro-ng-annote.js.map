{"version":3,"file":"sppro-ng-annote.js","sources":["../../../projects/sppro-ng-annote/src/lib/enums/drawableEnum.ts","../../../projects/sppro-ng-annote/src/lib/factories/shapeFactory.ts","../../../projects/sppro-ng-annote/src/lib/factories/textareaFactory.ts","../../../projects/sppro-ng-annote/src/lib/ng-annote/ng-annote.component.ts","../../../projects/sppro-ng-annote/src/lib/toolbar/toolbar.component.ts","../../../projects/sppro-ng-annote/src/lib/sppro-ng-annote.module.ts","../../../projects/sppro-ng-annote/src/public-api.ts","../../../projects/sppro-ng-annote/src/sppro-ng-annote.ts"],"names":["TEXT_AREA_ID"],"mappings":"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","sourcesContent":["export enum DrawableEnum {\r\n    FreePathDrawable,\r\n    SquareDrawable,\r\n    CircleDrawable,\r\n    ArrowDrawable,\r\n    TextDrawable\r\n  }","import { normalizeGenFileSuffix } from '@angular/compiler/src/aot/util';\r\nimport Konva from 'konva';\r\n\r\nconst TEXT_AREA_ID = \"konva-text-editor\";\r\n\r\nexport default {\r\n    CreateLine(x: number, y: number, color: string): Konva.Line {\r\n        return new Konva.Line({\r\n            stroke: color,\r\n            strokeWidth: 2,\r\n            // globalCompositeOperation:\r\n            //   this.mode === 'brush' ? 'source-over' : 'destination-out',\r\n            points: [x, y],\r\n            draggable: true\r\n        });\r\n    },\r\n    CreateRectange(x: number, y: number, color: string): Konva.Rect {\r\n        return new Konva.Rect({\r\n            stroke: color,\r\n            strokeWidth: 2,\r\n            x: x,\r\n            y: y,\r\n            width: 0,\r\n            height: 0,\r\n            draggable: true\r\n        });\r\n    },\r\n    CreateCircle(x: number, y: number, color: string): Konva.Circle {\r\n        return new Konva.Circle({\r\n            stroke: color,\r\n            strokeWidth: 2,\r\n            x: x,\r\n            y: y,\r\n            radius: 0,\r\n            draggable: true\r\n        });\r\n    },\r\n    CreateArrow(x: number, y: number, color: string): Konva.Arrow {\r\n        return new Konva.Arrow({\r\n            stroke: color,\r\n            strokeWidth: 2,\r\n            points: [x, y],\r\n            draggable: true\r\n        });\r\n    },\r\n    CreateText(x: number, y: number, color: string, fontFamily: string, text: string): Konva.Text {\r\n        return new Konva.Text({\r\n            stroke: color,\r\n            strokeWidth: .1,\r\n            x: x,\r\n            y: y + 1,\r\n            text: text,\r\n            draggable: true,\r\n            fontFamily: fontFamily,\r\n            fontStyle: 'normal'\r\n        });\r\n    }\r\n\r\n}\r\n","const TEXT_AREA_ID = \"konva-text-editor\";\r\n\r\nexport default {\r\n    createTextArea: (x: number, y: number, color: string, fontFamily: string, onBlur: Function) => {\r\n        let textarea = getTextArea();\r\n        styleTextarea(textarea, x, y, color, fontFamily);\r\n        setupEvents(textarea, onBlur);\r\n\r\n        //Auto focus after creation\r\n        setTimeout(() => {\r\n            textarea.focus();\r\n        }, (100));\r\n    }\r\n}\r\n\r\nconst getTextArea = () => {\r\n    var textarea = document.getElementById(TEXT_AREA_ID);\r\n    if (!textarea) {\r\n        textarea = document.createElement('textarea');\r\n        let canvas = document.getElementsByClassName(\"konvajs-content\")[0];\r\n        canvas.appendChild(textarea);\r\n\r\n        textarea.style.position = 'absolute';\r\n        textarea.id = TEXT_AREA_ID;\r\n    }\r\n    return textarea;\r\n}\r\n\r\nconst styleTextarea = (textarea, x, y, color, fontFamily) => {\r\n    textarea.style.top = y + 'px';\r\n    textarea.style.left = x + 'px';\r\n    textarea.style.width = \"20px\";\r\n    textarea.style.height = \"20px\"\r\n    textarea.style.fontSize = '12px';\r\n    textarea.style.border = 'none';\r\n    textarea.style.padding = '0px';\r\n    textarea.style.margin = '0px';\r\n    textarea.style.overflow = 'hidden';\r\n    textarea.style.whiteSpace = 'nowrap';\r\n    textarea.style.background = 'none';\r\n    textarea.style.outline = 'none';\r\n    textarea.style.resize = 'none';\r\n    textarea.style.lineHeight = \"12px\"\r\n    textarea.style.transformOrigin = 'left top';\r\n    textarea.style.color = color;\r\n    textarea.style.fontFamily = fontFamily;\r\n}\r\n\r\nconst setupEvents = (textarea, onBlur) => {\r\n \r\n    textarea.addEventListener('input', (e) => {\r\n        autoExpand(e.target);\r\n    });\r\n\r\n    textarea.addEventListener('blur', (e) => {\r\n        removeTextarea();\r\n        onBlur(e);\r\n    });\r\n}\r\n\r\nconst removeTextarea = () => {\r\n    var elem = document.getElementById(TEXT_AREA_ID);\r\n    if (elem != null) {\r\n        elem.parentNode.removeChild(elem);\r\n    }\r\n}\r\n\r\nconst autoExpand = (field) => {\r\n    // Calculate the height\r\n    var height = field.scrollHeight;\r\n    var width = field.scrollWidth;\r\n    field.style.width = width + 'px';\r\n    field.style.height = height + 'px';\r\n}","import { createOfflineCompileUrlResolver } from '@angular/compiler';\r\nimport { Component, EventEmitter, OnInit, Output } from '@angular/core';\r\nimport Konva from 'konva';\r\nimport { DrawableEnum } from  '../enums/drawableEnum';\r\nimport shapeFactory from '../factories/shapeFactory';\r\nimport textareaFactory from '../factories/textareaFactory';\r\n\r\nconst DEFAULT_DRAWABLE_TYPE: DrawableEnum = DrawableEnum.FreePathDrawable;\r\nconst DEFAULT_FONT_FAMILY: string = 'Arial';\r\n\r\n@Component({\r\n  selector: 'sppro-ng-annote',\r\n  templateUrl: './ng-annote.component.html',\r\n  styleUrls: ['./ng-annote.component.scss']\r\n})\r\nexport class NgAnnoteComponent implements OnInit {\r\n\r\n  @Output() onSave = new EventEmitter<string>();\r\n\r\n  private _drawableType: DrawableEnum = DEFAULT_DRAWABLE_TYPE;\r\n\r\n  stage: Konva.Stage;\r\n  layer: Konva.Layer;\r\n  image: Konva.Image;\r\n  isPaint: boolean = false;\r\n  mode: string = 'brush';\r\n  lastShape: any;\r\n  color: string = '#000000';\r\n  textAreaVisible: boolean = false;\r\n\r\n\r\n  img: HTMLImageElement;\r\n\r\n  constructor() {\r\n\r\n  }\r\n\r\n\r\n  get drawableType(): DrawableEnum {\r\n    return this._drawableType;\r\n  }\r\n\r\n  set drawableType(value: DrawableEnum) {\r\n    this._drawableType = value;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.img = new Image();\r\n\r\n    this.img.onload = () => {\r\n\r\n      this.image = new Konva.Image({\r\n        image: this.img,\r\n      });\r\n\r\n      this.initalizeStage();\r\n\r\n      this.layer = new Konva.Layer({\r\n      });\r\n      this.layer.add(this.image);\r\n      this.stage.add(this.layer);\r\n\r\n    };\r\n\r\n    this.img.src = \"https://sharepointpro.github.io/sppro-image-annote/static/media/room.fdc5a868.jpg\";\r\n  }\r\n\r\n\r\n  initalizeStage(): void {\r\n    this.stage = new Konva.Stage({\r\n      container: \"stage\",\r\n      width: this.img.width,\r\n      height: this.img.height\r\n    });\r\n\r\n    this.stage.on('mousedown', (e) => { this.onMouseDown(e) });\r\n    this.stage.on('mouseup', (e) => { this.onMouseUp(e) });\r\n    this.stage.on('mousemove', (e) => { this.onMouseMove(e) });\r\n  }\r\n\r\n  onMouseDown(e): void {\r\n    this.isPaint = true;\r\n\r\n    var pos = this.stage.getPointerPosition();\r\n\r\n    if (this.drawableType === DrawableEnum.FreePathDrawable) {\r\n      this.lastShape = shapeFactory.CreateLine(pos.x, pos.y, this.color);\r\n      this.layer.add(this.lastShape);\r\n    }\r\n\r\n    if (this.drawableType === DrawableEnum.SquareDrawable) {\r\n      this.lastShape = shapeFactory.CreateRectange(pos.x, pos.y, this.color);\r\n      this.layer.add(this.lastShape);\r\n    }\r\n\r\n    if (this.drawableType === DrawableEnum.CircleDrawable) {\r\n      this.lastShape = shapeFactory.CreateCircle(pos.x, pos.y, this.color);\r\n      this.layer.add(this.lastShape);\r\n    }\r\n\r\n    if (this.drawableType === DrawableEnum.ArrowDrawable) {\r\n      this.lastShape = shapeFactory.CreateArrow(pos.x, pos.y, this.color);\r\n      this.layer.add(this.lastShape);\r\n    }\r\n\r\n    if (this.drawableType === DrawableEnum.TextDrawable) {\r\n\r\n      if (!this.textAreaVisible) {\r\n        this.textAreaVisible = true;\r\n\r\n        textareaFactory.createTextArea(pos.x, pos.y, this.color, DEFAULT_FONT_FAMILY, (element) => {\r\n          if (element.target.value !== \"\") {\r\n            this.lastShape = shapeFactory.CreateText(pos.x, pos.y, this.color, DEFAULT_FONT_FAMILY, element.target.value);\r\n            this.layer.add(this.lastShape);\r\n            this.layer.batchDraw();\r\n            this.textAreaVisible = false;\r\n\r\n          }\r\n        })\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  onSaveClick(): void {\r\n    this.onSave.emit(this.stage.toDataURL());\r\n  }\r\n\r\n  onClear(): void {\r\n    while (this.layer.children.length > 1){\r\n      this.onUndo();\r\n    }\r\n    this.layer.batchDraw();\r\n  }\r\n\r\n  onMouseUp(e): void {\r\n    this.isPaint = false;\r\n    this.lastShape = null;\r\n  }\r\n\r\n  onUndo(): void {\r\n    if (this.layer.children.length > 1) {\r\n      this.layer.children.splice(-1, 1);\r\n      this.layer.batchDraw();\r\n    }\r\n  }\r\n\r\n  onMouseMove(e): void {\r\n    if (!this.isPaint || !this.lastShape || this.lastShape === DrawableEnum.TextDrawable) {\r\n      return;\r\n    }\r\n    const pos = this.stage.getPointerPosition();\r\n\r\n    if (this.drawableType === DrawableEnum.FreePathDrawable) {\r\n      let newPoints = this.lastShape.points().concat([pos.x, pos.y]);\r\n      this.lastShape.points(newPoints);\r\n    }\r\n\r\n    if (this.drawableType === DrawableEnum.SquareDrawable) {\r\n      const dx = -(this.lastShape.attrs.x - pos.x);\r\n      const dy = -(this.lastShape.attrs.y - pos.y);\r\n\r\n      this.lastShape.attrs.width = dx;\r\n      this.lastShape.attrs.height = dy;\r\n    }\r\n\r\n    if (this.drawableType === DrawableEnum.CircleDrawable) {\r\n      const dx = this.lastShape.attrs.x - pos.x;\r\n      const dy = this.lastShape.attrs.y - pos.y;\r\n      const radius = Math.sqrt(dx * dx + dy * dy);\r\n      this.lastShape.attrs.radius = radius;\r\n    }\r\n\r\n    if (this.drawableType === DrawableEnum.ArrowDrawable) {\r\n      let newPoints = [this.lastShape.attrs.points[0], this.lastShape.attrs.points[1]];\r\n\r\n      newPoints.push(pos.x);\r\n      newPoints.push(pos.y);\r\n\r\n      this.lastShape.points(newPoints);\r\n    }\r\n\r\n    this.layer.batchDraw();\r\n  }\r\n\r\n\r\n}\r\n","import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport { faSave, faBan, faUndo, faSquareFull, faPencilAlt, faSquare, faCircle, faLongArrowAltRight, faFont  } from '@fortawesome/free-solid-svg-icons'\nimport { DrawableEnum } from '../enums/drawableEnum';\n\n@Component({\n  selector: 'sppro-toolbar',\n  templateUrl: './toolbar.component.html',\n  styleUrls: ['./toolbar.component.scss']\n})\nexport class ToolbarComponent implements OnInit {\n\n  @Output() drawableTypeChange = new EventEmitter<DrawableEnum>();\n  @Input() drawableType:DrawableEnum;\n\n  @Output() colorChange = new EventEmitter<string>();\n  @Input() color:string;\n\n  @Output() onUndo = new EventEmitter();\n  @Output() onClear = new EventEmitter();\n  @Output() onSave = new EventEmitter();\n\n\n  showColorPicker: boolean = false;\n\n  //Icons\n  faPencilAlt = faPencilAlt;\n  faSquare = faSquare;\n  faCircle = faCircle;\n  faLongArrowAltRight = faLongArrowAltRight;\n  faFont = faFont;\n  faSquareFull = faSquareFull;\n  faUndo = faUndo;\n  faBan = faBan;\n  faSave = faSave;\n\n  DrawableEnum = DrawableEnum;\n  \n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  onDrawableChange(value:DrawableEnum): void {\n    this.drawableTypeChange.emit(value);\n  }\n\n  getClass(value:DrawableEnum): string {\n    var classes = \"toolButton\";\n    if (value === this.drawableType){\n      classes += \" active\";\n    }\n    return classes;\n  }\n\n  showColor(): void {\n    this.showColorPicker = true;\n  }\n\n  onColorChange(event): void {\n    this.colorChange.emit(event.color.hex);\n  }\n\n  onAccept(): void{\n    //setTimeout is hack as onAccept was calling a stale state\n    setTimeout(() => {\n      this.showColorPicker = false;\n    });\n  }\n\n\n  \n  onColorPicked(event): void {\n    this.onColorChange(event);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgAnnoteComponent } from './ng-annote/ng-annote.component';\nimport { ToolbarComponent } from './toolbar/toolbar.component';\nimport { FontAwesomeModule } from '@fortawesome/angular-fontawesome';\nimport { ColorPhotoshopModule } from 'ngx-color/photoshop'\nimport { CommonModule } from '@angular/common';\n\n\n@NgModule({\n  declarations: [\n    NgAnnoteComponent,\n    ToolbarComponent],\n  imports: [\n    FontAwesomeModule,\n    ColorPhotoshopModule,\n    CommonModule\n  ],\n  exports: [NgAnnoteComponent]\n})\nexport class SpproNgAnnoteModule { }\n","/*\n * Public API Surface of sppro-ng-annote\n */\n\nexport * from './lib/ng-annote/ng-annote.component';\nexport * from './lib/sppro-ng-annote.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n\nexport {ToolbarComponent as Éµa} from './lib/toolbar/toolbar.component';"]}